---
title: 'Python и DevOps: ключ к автоматизации Linux'
created: '2022-08-29T13:43:07.472Z'
modified: '2022-08-30T14:49:49.123Z'
---

# Python и DevOps: ключ к автоматизации Linux
## Принципы DevOps
- Двустороннее сотрудничество специалистов разработки и эксплуатации; команде эксплуатации нужны навыки разработчиков, команде разработчиков - навыки эксплуатации
- Полный цикл задач эксплуатации занимает минуты-часы, реализованы конвейеры CI/CD
- GitOps
- Не автоматизировано - значит сломано
- Микросервисы > монолитная архитектура
## Траблшутинг
Если информация, необхдимая для дебага не отображается в логах, можно использовать команду `strace` и посмотреть системные вызовы.
## Python
### Реактивные библиотеки CLI
Ускорить написание консольных приложений позволяет переход с `argparse` на `fire` или `click`. Первый реализован благодаря интроспекции кода, второй посредством декораторов. `fire` требует от проекта ООП и не позволяет вручную править справку по командам.
### Обход JIT
Для решения проблем с быстродействием используется динамический компилятор `Numba`, позвляющий обойти JIT и использовать многопоточность:
```
@numba.jit(nopython=True) # или parallel=True
def factorial(x, n):
    if n:
        return factorial(x, n - 1) * x
    return 1
```
### Использование Python вместе с Bash

Python из Bash можно запускать при помощи флага `-c` и функции `exec()`, аргументы которой можно предварительно закодировать в base64.
```
try() {
  python -c "
exec('''
try: 
    import ${1} as _
    print(_.__file__)
except:
    print('Module not found')
''')"
}
```

